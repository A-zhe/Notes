{"compress":true,"commitItems":[["5101c81b-1f19-454f-a6ec-c2f70c9c71a3",1568622859206,"# [mybatis 详解（四）------properties以及别名定义](https://www.cnblogs.com/ysocean/p/7287972.html)\n\n**目录**\n\n*   [1、我们将 数据库的配置语句写在 db.properties 文件中](https://www.cnblogs.com/ysocean/p/7287972.html#_label0)\n*   [2、在  mybatis-configuration.xml 中加载db.properties文件并读取](https://www.cnblogs.com/ysocean/p/7287972.html#_label1)\n*   [通过源码我们可以分析读取优先级：](https://www.cnblogs.com/ysocean/p/7287972.html#_label2)\n*   [1、mybatis 默认支持的别名](https://www.cnblogs.com/ysocean/p/7287972.html#_label3)\n*   [2、自定义别名　　](https://www.cnblogs.com/ysocean/p/7287972.html#_label4)\n\n* * *\n\n　　上一篇博客我们介绍了mybatis的增删改查入门实例，我们发现在 mybatis-configuration.xml 的配置文件中，对数据库的配置都是硬编码在这个xml文件中，如下图，那么我们如何改进这个写法呢？\n\n　　![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804220404022-1871062647.png)\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n### 1、我们将 数据库的配置语句写在 db.properties 文件中\n\n| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`jdbc.driver=com.mysql.jdbc.Driver`\n\n`jdbc.url=jdbc:mysql:``//localhost:3306/ssm`\n\n`jdbc.username=root`\n\n`jdbc.password=root`\n\n |\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n### 2、在  mybatis-configuration.xml 中加载db.properties文件并读取\n\n| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n17\n\n18\n\n19\n\n | \n\n`<?xml version=``\"1.0\"` `encoding=``\"UTF-8\"``?>`\n\n`<!DOCTYPE configuration PUBLIC ``\"-//mybatis.org//DTD Config 3.0//EN\"` `\"http://mybatis.org/dtd/mybatis-3-config.dtd\"``>`\n\n`<configuration>`\n\n`<!-- 加载数据库属性文件 -->`\n\n`<properties resource=``\"db.properties\"``>`\n\n`</properties>`\n\n`<environments ``default``=``\"development\"``>`\n\n`<environment id=``\"development\"``>`\n\n`<transactionManager type=``\"JDBC\"``/>`\n\n`<!--dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象源  -->`\n\n`<dataSource type=``\"POOLED\"``>`\n\n`<property name=``\"driver\"` `value=``\"${jdbc.driver}\"``/>`\n\n`<property name=``\"url\"` `value=``\"${jdbc.url}\"``/>`\n\n`<property name=``\"username\"` `value=``\"${jdbc.username}\"``/>`\n\n`<property name=``\"password\"` `value=``\"${jdbc.password}\"``/>`\n\n`</dataSource>`\n\n`</environment>`\n\n`</environments>`\n\n`</configuration>`\n\n |\n\n　　如果数据库有变化，我们就可以通过修改 db.properties 文件来修改，而不用去修改 mybatis-configuration.xml 文件\n\n注意：我们也可以在<properties></properties>中手动增加属性\n\n| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<!-- 加载数据库属性文件 -->`\n\n`<properties resource=``\"db.properties\"``>`\n\n`<property name=``\"username\"` `value=``\"aaa\"``/>`\n\n`</properties>`\n\n |\n\n　　那么这个时候是读取的username 是以 db.properties 文件中的 root 为准，还是以自己配置的 aaa 为准呢?\n\n我们先看一段 properties 文件加载的源码\n\n| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n17\n\n18\n\n19\n\n20\n\n21\n\n22\n\n23\n\n24\n\n25\n\n26\n\n27\n\n28\n\n29\n\n30\n\n31\n\n32\n\n33\n\n34\n\n | \n\n`private` `void` `propertiesElement(XNode context) ``throws` `Exception {`\n\n`if` `(context != ``null``) {`\n\n`/**`\n\n`*  解析properties 属性中指定的属性。`\n\n`*/`\n\n`Properties defaults = context.getChildrenAsProperties();`\n\n`String resource = context.getStringAttribute(``\"resource\"``); ``//resource 制定的属性路径`\n\n`String url = context.getStringAttribute(``\"url\"``); ``//url制定的属性路径`\n\n`if` `(resource != ``null` `&& url != ``null``) {`\n\n`throw` `new` `BuilderException(``\"The properties element cannot specify both a URL and a resource based property file reference.  Please specify one or the other.\"``);`\n\n`}`\n\n`/**`\n\n`* 根据 properties 元素中的 resource 属性读取类路径下属性文件，并覆盖properties 属性中指定的同名属性。`\n\n`*/`\n\n`if` `(resource != ``null``) {`\n\n`defaults.putAll(Resources.getResourceAsProperties(resource));`\n\n`} ``else` `if` `(url != ``null``) {`\n\n`/**`\n\n`* 根据properties元素中的url属性指定的路径读取属性文件，并覆盖properties 属性中指定的同名属性。`\n\n`*/`\n\n`defaults.putAll(Resources.getUrlAsProperties(url));`\n\n`}`\n\n`/**`\n\n`*  获取方法参数传递的properties`\n\n`*  创建XMLConfigBuilder实例时，this.configuration.setVariables(props);`\n\n`*/`\n\n`Properties vars = configuration.getVariables();`\n\n`if` `(vars != ``null``) {`\n\n`defaults.putAll(vars);`\n\n`}`\n\n`parser.setVariables(defaults);`\n\n`configuration.setVariables(defaults);`\n\n`}`\n\n`}`\n\n |\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n### 通过源码我们可以分析读取优先级：\n\n　　　　1、在 properties 内部自定义的属性值第一个被读取\n\n　　　　2、然后读取 resource 路径表示文件中的属性，如果有它会覆盖已经读取的属性；如果 resource 路径不存在，那么读取 url 表示路径文件中的属性，如果有它会覆盖第一步读取的属性值\n\n　　　　3、最后读取 parameterType 传递的属性值，它会覆盖已读取的同名的属性\n\n　　前面两步好理解，第三步我们可以举个例子来看：\n\n　　　　我们在 userMapper.xml 文件中进行模糊查询\n\n| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<select id=``\"selectLikeUserName\"` `resultType=``\"com.ys.po.User\"` `parameterType=``\"String\"``>`\n\n`select * from user where username like ``'%${jdbc.username}%'`\n\n`<!-- select * from user where username like #{username} -->`\n\n`</select>`\n\n |\n\n　　　　这个时候你会发现无论你后台传给这个查询语句什么参数，都是 select * from user where username like '%root%'\n\n# mybatis 的别名配置　　\n\n　　在 userMapper.xml 文件中，我们可以看到resultType 和 parameterType 需要指定，这这个值往往都是全路径，不方便开发，那么我们就可以对这些属性进行一些别名设置\n\n　　![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804230103850-1701803236.png)\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n### 1、mybatis 默认支持的别名\n\n　　![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804230414350-900097506.png)\n\n　　![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804230557694-737797674.png)\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n### 2、自定义别名　　\n\n　　一、定义单个别名\n\n　　　　首先在全局配置文件 mybatis-configuration.xml 文件中添加如下配置：是在<configuration>标签下\n\n| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<typeAlias type=``\"com.ys.po.User\"` `alias=``\"user\"``/>`\n\n`</typeAliases>`\n\n |\n\n　　　　第二步通过 user 引用\n\n![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804231055990-1789427240.png)\n\n　　二、批量定义别名\n\n　　　　在全局配置文件 mybatis-configuration.xml 文件中添加如下配置：是在<configuration>标签下\n\n| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n | \n\n`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<!-- mybatis自动扫描包中的po类，自动定义别名，别名是类名(首字母大写或小写都可以,一般用小写) -->`\n\n`<``package` `name=``\"com.ys.po\"``/>`\n\n`</typeAliases>`\n\n |\n\n　　　　引用的时候类名的首字母大小写都可以",[[1568622849481,["GJX@GJXAIOU",[[-1,40,"https://www.cnblogs.com/ysocean/p/7287972.html"]],[40,86],[40,40]]],[1568622851105,["GJX@GJXAIOU",[[1,43,"\n"]],[41,41],[42,42]]],[1568622867419,["GJX@GJXAIOU",[[1,42,"[原文链接](https://www.cnblogs.com/ysocean/p/7287972.html)"]],[42,42],[96,96]]],[1568623148928,["GJX@GJXAIOU",[[-1,106,"*   [1、我们将 数据库的配置语句写在 db.properties 文件中](https://www.cnblogs.com/ysocean/p/7287972.html#_label0)\n*   [2、在  mybatis-configuration.xml 中加载db.properties文件并读取](https://www.cnblogs.com/ysocean/p/7287972.html#_label1)\n*   [通过源码我们可以分析读取优先级：](https://www.cnblogs.com/ysocean/p/7287972.html#_label2)\n*   [1、mybatis 默认支持的别名](https://www.cnblogs.com/ysocean/p/7287972.html#_label3)\n*   [2、自定义别名　　](https://www.cnblogs.com/ysocean/p/7287972.html#_label4)\n\n* * *"]],[106,555],[106,106]]],[1568623151582,["GJX@GJXAIOU",[[-1,98,"**目录**"]],[99,104],[98,98]]],[1568623152400,["GJX@GJXAIOU",[[-1,101,"\n"]],[98,98],[97,97]]],[1568623154363,["GJX@GJXAIOU",[[1,97,"@\n"],[-1,100,"\n"],[-1,135," "],[1,136," "],[-1,643," "],[1,644," "],[-1,792," "],[1,793," "],[-1,850," "],[1,851," "],[-1,890," "],[1,891," "],[-1,1060," "],[1,1061," "],[-1,1221," "],[1,1222," "],[-1,1290," "],[1,1291," "],[-1,1347," "],[1,1348," "],[-1,1406," "],[1,1407," "],[-1,1470," "],[1,1471," "],[-1,1630," "],[1,1631," "],[-1,1821," "],[1,1822," "],[-1,2106," "],[1,2107," "],[-1,2113," "],[1,2114," "],[-1,2138," "],[1,2139," "],[-1,2147," "],[1,2148," "],[-1,2157," "],[1,2158," "],[-1,2168," "],[1,2169," "],[-1,2177," "],[1,2178," "],[-1,2187," != "],[1,2191," != "],[-1,2200," "],[1,2201," "],[-1,2214," "],[1,2215," "],[-1,2228," "],[1,2229," "],[-1,2258," "],[1,2259," "],[-1,2267," = "],[1,2270," = "],[-1,2314," "],[1,2315," "],[-1,2323," = "],[1,2326," = "],[-1,2369," "],[1,2370," "],[-1,2382," "],[1,2383," "],[-1,2400," url = "],[1,2407," url = "],[-1,2445," "],[1,2446," "],[-1,2467," "],[1,2468," "],[-1,2478," != "],[1,2482," != "],[-1,2489," `&& url != "],[1,2501," `&& url != "],[-1,2510," "],[1,2511," "],[-1,2522," "],[1,2523," "],[-1,2528," "],[1,2529," "],[-1,2553," "],[1,2554," "],[-1,2564," "],[1,2565," "],[-1,2572," "],[1,2573," "],[-1,2579," "],[1,2580," "],[-1,2587," "],[1,2588," "],[-1,2592," a URL and a "],[1,2605," a URL and a "],[-1,2613," "],[1,2614," "],[-1,2619," "],[1,2620," "],[-1,2628," "],[1,2629," "],[-1,2633," "],[1,2634," "],[-1,2644," "],[1,2645," "],[-1,2652," "],[1,2653," "],[-1,2660," one or the "],[1,2672," one or the "],[-1,2700," 根据 "],[1,2704," 根据 "],[-1,2714," "],[1,2715," "],[-1,2719," "],[1,2720," "],[-1,2728," "],[1,2729," "],[-1,2755," "],[1,2756," "],[-1,2780," "],[1,2781," "],[-1,2791," != "],[1,2795," != "],[-1,2804," "],[1,2805," "],[-1,2876," "],[1,2877," "],[-1,2884," "],[1,2885," "],[-1,2889," "],[1,2890," "],[-1,2895," != "],[1,2899," != "],[-1,2908," "],[1,2909," "],[-1,2922," "],[1,2923," "],[-1,2969," "],[1,2970," "],[-1,3059," "],[1,3060," "],[-1,3085," "],[1,3086," "],[-1,3168," "],[1,3169," "],[-1,3173," = "],[1,3176," = "],[-1,3212," "],[1,3213," "],[-1,3219," != "],[1,3223," != "],[-1,3232," "],[1,3233," "],[-1,3593," "],[1,3594," "],[-1,3746," "],[1,3747," "],[-1,3778," "],[1,3779," "],[-1,3849," "],[1,3850," "],[-1,4800," "],[1,4801," "],[-1,5176," "],[1,5177," "]],[97,97],[98,98]]],[1568623155874,["GJX@GJXAIOU",[[1,98,"tox"]],[98,98],[101,101]]],[1568623156358,["GJX@GJXAIOU",[[-1,100,"x"]],[101,101],[100,100]]],[1568623156521,["GJX@GJXAIOU",[[1,100,"x"]],[100,100],[101,101]]],[1568623157455,["GJX@GJXAIOU",[[-1,100,"x"]],[101,101],[100,100]]],[1568623157667,["GJX@GJXAIOU",[[1,100,"c"]],[100,100],[101,101]]],[1568623159702,["GJX@GJXAIOU",[[1,97,"\n"]],[97,97],[98,98]]],[1568623166110,["GJX@GJXAIOU",[[-1,38,"]()"]],[41,41],[38,38]]],[1568623166998,["GJX@GJXAIOU",[[-1,2,"["]],[3,3],[2,2]]],[1568623176294,["GJX@GJXAIOU",[[-1,101,"\n"]],[101,101],[100,100]]],[1568623176934,["GJX@GJXAIOU",[[-1,100,"\n"]],[100,100],[99,99]]],[1568623705104,["GJX@GJXAIOU",[[-1,310,"[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n"]],[309,374],[309,309]]],[1568623706305,["GJX@GJXAIOU",[[1,309,"【】"]],[309,309],[311,311]]],[1568623714866,["GJX@GJXAIOU",[[1,310,"注：硬编码和软编码的区别"]],[310,310],[322,322]]],[1568623716761,["GJX@GJXAIOU",[[1,323,"计算机科学中，只有硬编码（hardcode），以及非硬编码，有人也成为“软编码”。\n    硬编码和软编码的区别是：软编码可以在运行时确定，修改；而硬编码是不能够改变的。所有的硬编码和软编码的区别都可以有这个意思扩展开。\n    在计算机程序或文本编辑中，硬编码是指将可变变量用一个固定值来代替的方法。用这种方法编译后，如果以后需要更改此变量就非常困难了。大部分程序语言里，可以将一个固定数值定义为一个标记，然后用这个特殊标记来取代变量名称。当标记名称改变时，变量名不变，这样，当重新编译整个程序时，所有变量都不再是固定值，这样就更容易的实现了改变变量的目的。\n    尽管通过编辑器的查找替换功能也能实现整个变量名称的替换，但也很有可能出现多换或者少换的情况，而在计算机 程序中，任何小错误的出现都是不可饶恕的。最好的方法是单独为变量名划分空间，来实现这种变化，就如同前面说的那样，将需要改变的变量名暂时用一个定义好 的标记名称来代替就是一种很好的方法。通常情况下，都应该避免使用硬编码方法。　 　　\n    java小例子： int a=2,b=2; 　　\n    硬编码：if(a==2) return false; 　　\n    非硬编码 if(a==b) return true; 　　（就是把数值写成常数而不是变量 ）\n    一个简单的版本：如求圆的面积 的问题 PI（3.14） 　　\n    那么3.14*r*r 就是硬编码，而PI*r*r 就不是硬编码。"]],[323,323],[960,960]]],[1568623719295,["GJX@GJXAIOU",[[1,323,"\n"]],[323,323],[324,324]]],[1568623726859,["GJX@GJXAIOU",[[-1,366,"    "],[1,370,"    "],[-1,435,"    "],[1,439,"    "],[-1,605,"    "],[1,609,"    "],[-1,776,"    "],[1,780,"    "],[-1,805,"    "],[1,809,"    "],[-1,839,"    "],[1,843,"    "],[-1,869," "],[1,870," "],[-1,890,"    "],[1,894,"    "],[-1,921," 　　\n    "],[1,929," 　　\n    "],[1,931,"`"]],[931,931],[932,932]]],[1568623729171,["GJX@GJXAIOU",[[1,940,"`"]],[940,940],[941,941]]],[1568623730721,["GJX@GJXAIOU",[[1,949,"`"]],[949,949],[950,950]]],[1568623732224,["GJX@GJXAIOU",[[1,956,"`"]],[956,956],[957,957]]],[1568623734360,["GJX@GJXAIOU",[[1,949," "]],[949,949],[950,950]]],[1568623737779,["GJX@GJXAIOU",[[1,813,"`"]],[813,813],[814,814]]],[1568623739074,["GJX@GJXAIOU",[[1,836,"`"]],[836,836],[837,837]]],[1568623740250,["GJX@GJXAIOU",[[1,850,"`"]],[850,850],[851,851]]],[1568623742769,["GJX@GJXAIOU",[[1,872,"`"]],[872,872],[873,873]]],[1568623744736,["GJX@GJXAIOU",[[1,789,"`"]],[789,789],[790,790]]],[1568623748066,["GJX@GJXAIOU",[[1,802,"`"]],[802,802],[803,803]]],[1568624074558,["GJX@GJXAIOU",[[-1,1014,"| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`jdbc.driver=com.mysql.jdbc.Driver`\n\n`jdbc.url=jdbc:mysql:``//localhost:3306/ssm`\n\n`jdbc.username=root`\n\n`jdbc.password=root`\n\n |\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)"]],[1014,1230],[1014,1014]]],[1568624085481,["GJX@GJXAIOU",[[1,1013,"···"]],[1013,1013],[1016,1016]]],[1568624086749,["GJX@GJXAIOU",[[-1,1013,"···"]],[1016,1016],[1013,1013]]],[1568624088654,["GJX@GJXAIOU",[[1,1013,"```"]],[1013,1013],[1016,1016]]],[1568624088696,["GJX@GJXAIOU",[[1,1016,"language\n```\n"]],[1016,1016],[1016,1024]]],[1568624091808,["GJX@GJXAIOU",[[-1,1016,"language"],[1,1024,"d"]],[1016,1024],[1017,1017]]],[1568624097223,["GJX@GJXAIOU",[[1,1017,"b_properties"]],[1017,1017],[1029,1029]]],[1568624097870,["GJX@GJXAIOU",[[1,1030,"\n"]],[1029,1029],[1030,1030]]],[1568624101165,["GJX@GJXAIOU",[[1,1030,"jdbc.driver=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://localhost:3306/ssm\njdbc.username=root\njdbc.password=root"]],[1030,1030],[1142,1142]]],[1568624110790,["GJX@GJXAIOU",[[-1,1149,"\n"]],[1148,1148],[1147,1147]]],[1568624111635,["GJX@GJXAIOU",[[-1,1148,"\n"]],[1148,1148],[1147,1147]]],[1568624121936,["GJX@GJXAIOU",[[1,1206,"\n"]],[1205,1205],[1206,1206]]],[1568624122809,["GJX@GJXAIOU",[[1,1206,"··"]],[1206,1206],[1208,1208]]],[1568624123791,["GJX@GJXAIOU",[[-1,1206,"··"]],[1208,1208],[1206,1206]]],[1568624124670,["GJX@GJXAIOU",[[1,1206,"```"]],[1206,1206],[1209,1209]]],[1568624124710,["GJX@GJXAIOU",[[1,1209,"language\n```\n"]],[1209,1209],[1209,1217]]],[1568624127664,["GJX@GJXAIOU",[[-1,1209,"language"],[1,1217,"m"]],[1209,1217],[1210,1210]]],[1568624128102,["GJX@GJXAIOU",[[-1,1209,"m"]],[1210,1210],[1209,1209]]],[1568624128910,["GJX@GJXAIOU",[[1,1209,"Myu"]],[1209,1209],[1212,1212]]],[1568624129549,["GJX@GJXAIOU",[[-1,1211,"u"]],[1212,1212],[1211,1211]]],[1568624131776,["GJX@GJXAIOU",[[1,1211,"BAT"]],[1211,1211],[1214,1214]]],[1568624132316,["GJX@GJXAIOU",[[-1,1212,"AT"]],[1214,1214],[1212,1212]]],[1568624136910,["GJX@GJXAIOU",[[1,1212,"atis_xml"]],[1212,1212],[1220,1220]]],[1568624137189,["GJX@GJXAIOU",[[1,1221,"\n"]],[1220,1220],[1221,1221]]],[1568624140287,["GJX@GJXAIOU",[[1,1221,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n<configuration>\n<!-- 加载数据库属性文件 -->\n<properties resource=\"db.properties\">\n</properties>\n <environments default=\"development\">\n    <environment id=\"development\">\n      <transactionManager type=\"JDBC\"/>\n      <!--dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象源  -->\n      <dataSource type=\"POOLED\">\n        <property name=\"driver\" value=\"${jdbc.driver}\"/>\n        <property name=\"url\" value=\"${jdbc.url}\"/>\n        <property name=\"username\" value=\"${jdbc.username}\"/>\n        <property name=\"password\" value=\"${jdbc.password}\"/>\n      </dataSource>\n    </environment>\n  </environments>\n</configuration>"]],[1221,1221],[1970,1970]]],[1568624152013,["GJX@GJXAIOU",[[-1,1976,"| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n17\n\n18\n\n19\n\n | \n\n`<?xml version=``\"1.0\"` `encoding=``\"UTF-8\"``?>`\n\n`<!DOCTYPE configuration PUBLIC ``\"-//mybatis.org//DTD Config 3.0//EN\"` `\"http://mybatis.org/dtd/mybatis-3-config.dtd\"``>`\n\n`<configuration>`\n\n`<!-- 加载数据库属性文件 -->`\n\n`<properties resource=``\"db.properties\"``>`\n\n`</properties>`\n\n`<environments ``default``=``\"development\"``>`\n\n`<environment id=``\"development\"``>`\n\n`<transactionManager type=``\"JDBC\"``/>`\n\n`<!--dataSource 元素使用标准的 JDBC 数据源接口来配置 JDBC 连接对象源  -->`\n\n`<dataSource type=``\"POOLED\"``>`\n\n`<property name=``\"driver\"` `value=``\"${jdbc.driver}\"``/>`\n\n`<property name=``\"url\"` `value=``\"${jdbc.url}\"``/>`\n\n`<property name=``\"username\"` `value=``\"${jdbc.username}\"``/>`\n\n`<property name=``\"password\"` `value=``\"${jdbc.password}\"``/>`\n\n`</dataSource>`\n\n`</environment>`\n\n`</environments>`\n\n`</configuration>`\n\n |"]],[1976,2864],[1976,1976]]],[1568624155372,["GJX@GJXAIOU",[[-1,1977,"\n"]],[1977,1977],[1976,1976]]],[1568624155572,["GJX@GJXAIOU",[[-1,1976,"\n"]],[1976,1976],[1975,1975]]],[1568624195285,["GJX@GJXAIOU",[[1,1462,"\n"]],[1461,1461],[1462,1462]]],[1568624198797,["GJX@GJXAIOU",[[1,1391,"  "],[1,1410,"  "],[1,1448,"  "]],[1391,1461],[1391,1467]]],[1568624218104,["GJX@GJXAIOU",[[-1,1982,"\n"]],[1982,1982],[1981,1981]]],[1568624255774,["GJX@GJXAIOU",[[-1,2103,"| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<!-- 加载数据库属性文件 -->`\n\n`<properties resource=``\"db.properties\"``>`\n\n`<property name=``\"username\"` `value=``\"aaa\"``/>`\n\n`</properties>`\n\n |\n\n"]],[2102,2262],[2102,2102]]],[1568624259173,["GJX@GJXAIOU",[[1,2102,"···"]],[2102,2102],[2105,2105]]],[1568624260700,["GJX@GJXAIOU",[[-1,2102,"···"]],[2105,2105],[2102,2102]]],[1568624261576,["GJX@GJXAIOU",[[1,2102,"```"]],[2102,2102],[2105,2105]]],[1568624261612,["GJX@GJXAIOU",[[1,2105,"language\n```\n"]],[2105,2105],[2105,2113]]],[1568624266544,["GJX@GJXAIOU",[[-1,2105,"language"],[1,2113,"M"]],[2105,2113],[2106,2106]]],[1568624270238,["GJX@GJXAIOU",[[1,2106,"yBatis_xml"]],[2106,2106],[2116,2116]]],[1568624270541,["GJX@GJXAIOU",[[1,2117,"\n"]],[2116,2116],[2117,2117]]],[1568624274860,["GJX@GJXAIOU",[[1,2117,"<!-- 加载数据库属性文件 -->\n<properties resource=\"db.properties\">\n    <property name=\"username\" value=\"aaa\"/>\n</properties>"]],[2117,2117],[2231,2231]]],[1568624278332,["GJX@GJXAIOU",[[-1,2236,"\n"]],[2236,2236],[2235,2235]]],[1568624296150,["GJX@GJXAIOU",[[-1,2333,"| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n15\n\n16\n\n17\n\n18\n\n19\n\n20\n\n21\n\n22\n\n23\n\n24\n\n25\n\n26\n\n27\n\n28\n\n29\n\n30\n\n31\n\n32\n\n33\n\n34\n\n | \n\n`private` `void` `propertiesElement(XNode context) ``throws` `Exception {`\n\n`if` `(context != ``null``) {`\n\n`/**`\n\n`*  解析properties 属性中指定的属性。`\n\n`*/`\n\n`Properties defaults = context.getChildrenAsProperties();`\n\n`String resource = context.getStringAttribute(``\"resource\"``); ``//resource 制定的属性路径`\n\n`String url = context.getStringAttribute(``\"url\"``); ``//url制定的属性路径`\n\n`if` `(resource != ``null` `&& url != ``null``) {`\n\n`throw` `new` `BuilderException(``\"The properties element cannot specify both a URL and a resource based property file reference.  Please specify one or the other.\"``);`\n\n`}`\n\n`/**`\n\n`* 根据 properties 元素中的 resource 属性读取类路径下属性文件，并覆盖properties 属性中指定的同名属性。`\n\n`*/`\n\n`if` `(resource != ``null``) {`\n\n`defaults.putAll(Resources.getResourceAsProperties(resource));`\n\n`} ``else` `if` `(url != ``null``) {`\n\n`/**`\n\n`* 根据properties元素中的url属性指定的路径读取属性文件，并覆盖properties 属性中指定的同名属性。`\n\n`*/`\n\n`defaults.putAll(Resources.getUrlAsProperties(url));`\n\n`}`\n\n`/**`\n\n`*  获取方法参数传递的properties`\n\n`*  创建XMLConfigBuilder实例时，this.configuration.setVariables(props);`\n\n`*/`\n\n`Properties vars = configuration.getVariables();`\n\n`if` `(vars != ``null``) {`\n\n`defaults.putAll(vars);`\n\n`}`\n\n`parser.setVariables(defaults);`\n\n`configuration.setVariables(defaults);`\n\n`}`\n\n`}`\n\n |\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)\n\n"]],[2332,3794],[2332,2332]]],[1568624299903,["GJX@GJXAIOU",[[1,2332,"```"]],[2332,2332],[2335,2335]]],[1568624299935,["GJX@GJXAIOU",[[1,2335,"language\n```\n"]],[2335,2335],[2335,2343]]],[1568624327485,["GJX@GJXAIOU",[[-1,2335,"language"],[1,2343,"d"]],[2335,2343],[2336,2336]]],[1568624332807,["GJX@GJXAIOU",[[1,2336,"b_properties"]],[2336,2336],[2348,2348]]],[1568624333452,["GJX@GJXAIOU",[[1,2349,"\n"]],[2348,2348],[2349,2349]]],[1568624336362,["GJX@GJXAIOU",[[1,2349,"private void propertiesElement(XNode context) throws Exception {\n  if (context != null) {\n    /**\n     *  解析properties 属性中指定的属性。\n     */\n    Properties defaults = context.getChildrenAsProperties();\n    String resource = context.getStringAttribute(\"resource\"); //resource 制定的属性路径\n    String url = context.getStringAttribute(\"url\"); //url制定的属性路径\n    if (resource != null && url != null) {\n      throw new BuilderException(\"The properties element cannot specify both a URL and a resource based property file reference.  Please specify one or the other.\");\n    }\n    /**\n     * 根据 properties 元素中的 resource 属性读取类路径下属性文件，并覆盖properties 属性中指定的同名属性。\n     */\n    if (resource != null) {\n      defaults.putAll(Resources.getResourceAsProperties(resource));\n    } else if (url != null) {\n      /**\n       * 根据properties元素中的url属性指定的路径读取属性文件，并覆盖properties 属性中指定的同名属性。\n       */\n      defaults.putAll(Resources.getUrlAsProperties(url));\n    }\n    /**\n     *  获取方法参数传递的properties\n     *  创建XMLConfigBuilder实例时，this.configuration.setVariables(props);\n     */\n    Properties vars = configuration.getVariables();\n    if (vars != null) {\n      defaults.putAll(vars);\n    }\n    parser.setVariables(defaults);\n    configuration.setVariables(defaults);\n  }\n}"]],[2349,2349],[3583,3583]]],[1568624342972,["GJX@GJXAIOU",[[-1,3611,"　　　　"],[-1,3647,"　　　　"],[-1,3749,"　　　　"],[-1,3796,"　　"],[-1,3822,"　　　　"]],[3614,3854],[3614,3854]]],[1568624350907,["GJX@GJXAIOU",[[-1,3838,"| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<select id=``\"selectLikeUserName\"` `resultType=``\"com.ys.po.User\"` `parameterType=``\"String\"``>`\n\n`select * from user where username like ``'%${jdbc.username}%'`\n\n`<!-- select * from user where username like #{username} -->`\n\n`</select>`\n\n |"]],[3838,4101],[3838,3838]]],[1568624358448,["GJX@GJXAIOU",[[1,3837,"```"]],[3837,3837],[3840,3840]]],[1568624358478,["GJX@GJXAIOU",[[1,3840,"language\n```\n"]],[3840,3840],[3840,3848]]],[1568624359973,["GJX@GJXAIOU",[[-1,3840,"language"],[1,3848,"U"]],[3840,3848],[3841,3841]]],[1568624363638,["GJX@GJXAIOU",[[1,3841,"serMapper_xml"]],[3841,3841],[3854,3854]]],[1568624363924,["GJX@GJXAIOU",[[1,3855,"\n"]],[3854,3854],[3855,3855]]],[1568624366313,["GJX@GJXAIOU",[[1,3855,"<select id=\"selectLikeUserName\" resultType=\"com.ys.po.User\" parameterType=\"String\">\n    select * from user where username like '%${jdbc.username}%'\n    <!-- select * from user where username like #{username} -->\n</select>"]],[3855,3855],[4076,4076]]],[1568624494387,["GJX@GJXAIOU",[[-1,4083,"\n"]],[4083,4083],[4082,4082]]],[1568624494780,["GJX@GJXAIOU",[[-1,4082,"\n"]],[4082,4082],[4081,4081]]],[1568624682150,["GJX@GJXAIOU",[[-1,4083,"　　　"]],[4086,4086],[4083,4083]]],[1568625126852,["GJX@GJXAIOU",[[1,3628,"**"],[1,3641,"**"]],[3628,3641],[3628,3645]]],[1568625145626,["GJX@GJXAIOU",[[1,3649,"**"],[1,3688,"**"]],[3649,3688],[3649,3692]]],[1568625184345,["GJX@GJXAIOU",[[-1,4290,"　![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804230103850-1701803236.png)\n\n[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)"]],[4290,4453],[4290,4290]]],[1568625190899,["GJX@GJXAIOU",[[1,4291,"![MyBatis别名设置]($resource/MyBatis%E5%88%AB%E5%90%8D%E8%AE%BE%E7%BD%AE.png)"]],[4290,4290],[4365,4365]]],[1568625192314,["GJX@GJXAIOU",[[-1,4289,"　"]],[4290,4290],[4289,4289]]],[1568625192713,["GJX@GJXAIOU",[[-1,4289,"\n"]],[4289,4289],[4288,4288]]],[1568625193745,["GJX@GJXAIOU",[[1,4363,"\n"]],[4362,4362],[4363,4363]]],[1568625213186,["GJX@GJXAIOU",[[-1,4585,"[回到顶部](https://www.cnblogs.com/ysocean/p/7287972.html#_labelTop)"]],[4585,4649],[4585,4585]]],[1568625230212,["GJX@GJXAIOU",[[-1,4686,"| \n\n1\n\n2\n\n3\n\n4\n\n | \n\n`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<typeAlias type=``\"com.ys.po.User\"` `alias=``\"user\"``/>`\n\n`</typeAliases>`\n\n |\n"]],[4686,4821],[4686,4686]]],[1568625233420,["GJX@GJXAIOU",[[1,4685,"```"]],[4685,4685],[4688,4688]]],[1568625233453,["GJX@GJXAIOU",[[1,4688,"language\n```\n"]],[4688,4688],[4688,4696]]],[1568625235715,["GJX@GJXAIOU",[[-1,4688,"language"],[1,4696,"M"]],[4688,4696],[4689,4689]]],[1568625239262,["GJX@GJXAIOU",[[1,4689,"yBatis_xml"]],[4689,4689],[4699,4699]]],[1568625239530,["GJX@GJXAIOU",[[1,4700,"\n"]],[4699,4699],[4700,4700]]],[1568625240933,["GJX@GJXAIOU",[[1,4700,"`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<typeAlias type=``\"com.ys.po.User\"` `alias=``\"user\"``/>`\n\n`</typeAliases>`"]],[4700,4700],[4809,4809]]],[1568625242813,["GJX@GJXAIOU",[[-1,4700,"`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<typeAlias type=``\"com.ys.po.User\"` `alias=``\"user\"``/>`\n\n`</typeAliases>`"]],[4809,4809],[4700,4700]]],[1568625245170,["GJX@GJXAIOU",[[1,4700,"<!-- 定义别名 -->\n<typeAliases>\n    <typeAlias type=\"com.ys.po.User\" alias=\"user\"/>\n</typeAliases>"]],[4700,4700],[4794,4794]]],[1568625299147,["GJX@GJXAIOU",[[-1,4366,"#"]],[4366,4366],[4365,4365]]],[1568625301083,["GJX@GJXAIOU",[[-1,4588,"#"]],[4588,4588],[4587,4587]]],[1568625306965,["GJX@GJXAIOU",[[-1,4600,"　　"]],[4600,4602],[4600,4600]]],[1568625308203,["GJX@GJXAIOU",[[1,4600,"### "]],[4600,4600],[4612,4612]]],[1568641410447,["GJX@GJXAIOU",[[-1,4615,"　　　"]],[4618,4618],[4615,4615]]],[1568641414869,["GJX@GJXAIOU",[[-1,4797,"\n　　　　"]],[4797,4802],[4797,4797]]],[1568641436765,["GJX@GJXAIOU",[[-1,4812,"![](https://images2017.cnblogs.com/blog/1120165/201708/1120165-20170804231055990-1789427240.png)"]],[4812,4908],[4812,4812]]],[1568641443808,["GJX@GJXAIOU",[[1,4812,"![引用]($resource/%E5%BC%95%E7%94%A8.png)"]],[4812,4812],[4852,4852]]],[1568641457103,["GJX@GJXAIOU",[[-1,4853,"　　"]],[4853,4855],[4853,4853]]],[1568641458764,["GJX@GJXAIOU",[[1,4853,"### "]],[4853,4853],[4865,4865]]],[1568641469581,["GJX@GJXAIOU",[[-1,4867,"　　　　"]],[4871,4871],[4867,4867]]],[1568641486037,["GJX@GJXAIOU",[[-1,4933,"| \n\n1\n\n2\n\n3\n\n4\n\n5\n\n | \n\n`<!-- 定义别名 -->`\n\n`<typeAliases>`\n\n`<!-- mybatis自动扫描包中的po类，自动定义别名，别名是类名(首字母大写或小写都可以,一般用小写) -->`\n\n`<``package` `name=``\"com.ys.po\"``/>`\n\n`</typeAliases>`\n\n |"]],[4933,5112],[4933,4933]]],[1568641490958,["GJX@GJXAIOU",[[1,4932,"```"]],[4932,4932],[4935,4935]]],[1568641490988,["GJX@GJXAIOU",[[1,4935,"language\n```\n"]],[4935,4935],[4935,4943]]],[1568641494647,["GJX@GJXAIOU",[[-1,4935,"language"],[1,4943,"M"]],[4935,4943],[4936,4936]]],[1568641499110,["GJX@GJXAIOU",[[1,4936,"yBatis_xml"]],[4936,4936],[4946,4946]]],[1568641499597,["GJX@GJXAIOU",[[1,4947,"\n"]],[4946,4946],[4947,4947]]],[1568641503261,["GJX@GJXAIOU",[[1,4947,"<!-- 定义别名 -->\n<typeAliases>\n    <!-- mybatis自动扫描包中的po类，自动定义别名，别名是类名(首字母大写或小写都可以,一般用小写) -->\n    <package name=\"com.ys.po\"/>\n</typeAliases>"]],[4947,4947],[5084,5084]]],[1568641507500,["GJX@GJXAIOU",[[-1,5090,"\n\n　　　　"]],[5090,5096],[5090,5090]]]],null,"GJX@GJXAIOU"]]}