{"compress":true,"commitItems":[["1f6fdcb0-05ab-4f5b-a577-030ee956cec4",1565674811378,"# Linux查看日志命令\n\n2017年05月08日 17:52:02 [踏凌霄](https://me.csdn.net/qq_31617637) 阅读数 103013\n\n 版权声明：本文为博主原创文章，未经博主允许不得转载。 [https://blog.csdn.net/qq_31617637/article/details/71426904](https://blog.csdn.net/qq_31617637/article/details/71426904)\n\n```\n   当日志文件存储日志很大时，我们就不能用vi直接进去查看日志，需要Linux的命令去完成我们的查看任务.\n\n```\n\n```\nLog位置：\n\n/var/log/message    系统启动后的信息和错误日志，是Red Hat Linux中最常用的日志之一   \n/var/log/secure 与安全相关的日志信息   \n/var/log/maillog    与邮件相关的日志信息   \n/var/log/cron   与定时任务相关的日志信息   \n/var/log/spooler    与UUCP和news设备相关的日志信息   \n/var/log/boot.log   守护进程启动和停止相关的日志消息 \n```\n\n* * *\n\n*   **tail** \n\n    > 参数： \n    > tail [ -f ] [ -c Number | -n Number | -m Number | -b Number | -k Number ] [ File ] \n    > 参数解释： \n    > -f 该参数用于监视File文件增长。 \n    > -c Number 从 Number 字节位置读取指定文件 \n    > -n Number 从 Number 行位置读取指定文件。 \n    > -m Number 从 Number 多字节字符位置读取指定文件，比方你的文件假设包括中文字，假设指定-c参数，可能导致截断，但使用-m则会避免该问题。 \n    > -b Number 从 Number 表示的512字节块位置读取指定文件。 \n    > -k Number 从 Number 表示的1KB块位置读取指定文件。 \n    > File 指定操作的目标文件名称 \n    > 上述命令中，都涉及到number，假设不指定，默认显示10行。Number前面可使用正负号，表示该偏移从顶部还是从尾部開始计算。 \n    > tail可运行文件一般在/usr/bin/以下。\n\n```\n实例：  \n1、tail -f filename  \n说明：监视filename文件的尾部内容（默认10行，相当于增加参数 -n 10），刷新显示在屏幕上。退出，按下CTRL+C。  \n\n2、tail -n 20 filename  \n说明：显示filename最后20行。  \n\n3、tail -r -n 10 filename  \n说明：逆序显示filename最后10行。\n```\n\n*   **head**\n\n```\nhead 仅仅显示前面几行  \n\nhead -n 10  test.log   查询日志文件中的头10行日志;  \n\nhead -n -10  test.log   查询日志文件除了最后10行的其他所有日志;  \n```\n\n*   **grep**\n\n```\ngrep [options]  \n主要参数:  \n[options]主要参数：  \n－c：只输出匹配行的计数。  \n－I：不区分大 小写(只适用于单字符)。  \n－h：查询多文件时不显示文件名。  \n－l：查询多文件时只输出包含匹配字符的文件名。  \n－n：显示匹配行及 行号。  \n－s：不显示不存在或无匹配文本的错误信息。  \n－v：显示不包含匹配文本的所有行。  \npattern正则表达式主要参数：  \n： 忽略正则表达式中特殊字符的原有含义。  \n^：匹配正则表达式的开始行。  \n$: 匹配正则表达式的结束行。  \n<：从匹配正则表达 式的行开始。  \n>：到匹配正则表达式的行结束。  \n[ ]：单个字符，如[A]即A符合要求 。  \n[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。  \n。：所有的单个字符。  \n - ：有字符，长度可以为0。\n```\n\n*   **sed**\n\n```\n用sed命令  \nsed -n '5,10p' filename 这样你就可以只查看文件的第5行到第10行。  \n```\n\n*   **cat**\n\n```\ncat主要有三大功能：  \n1.一次显示整个文件。$ cat filename  \n2.从键盘创建一个文件。$ cat > filename   \n  只能创建新文件,不能编辑已有文件.  \n3.将几个文件合并为一个文件： $cat file1 file2 > file  \n\n参数：  \n-n 或 --number 由 1 开始对所有输出的行数编号  \n-b 或 --number-nonblank 和 -n 相似，只不过对于空白行不编号  \n-s 或 --squeeze-blank 当遇到有连续两行以上的空白行，就代换为一行的空白行  \n-v 或 --show-nonprinting  \n例：  \n把 textfile1 的档案内容加上行号后输入 textfile2 这个档案里  \ncat -n textfile1 > textfile2  \n\n把 textfile1 和 textfile2 的档案内容加上行号（空白行不加）之后将内容附加到 textfile3 里。  \ncat -b textfile1 textfile2 >> textfile3  \n\n把test.txt文件扔进垃圾箱，赋空值test.txt  \ncat /dev/null > /etc/test.txt   \n注意：>意思是创建，>>是追加。千万不要弄混了。  \n```\n\n*   **tac (反向列示)**\n\n```\ntac 是将 cat 反写过来，所以他的功能就跟 cat 相反， cat 是由第一行到最后一行连续显示在萤幕上，  \n而 tac 则是由最后一行到第一行反向在萤幕上显示出来！ \n```\n\n*   **混合使用命令**\n\n```\nA.  tail web.2016-06-06.log -n 300 -f  \n    查看底部即最新300条日志记录，并实时刷新      \n\nB.  grep 'nick' | tail web.2016-04-04.log -C 10   \n    查看字符‘nick’前后10条日志记录, 大写C  \n\nC.  cat -n test.log |tail -n +92|head -n 20  \n    tail -n +92表示查询92行之后的日志  \n    head -n 20 则表示在前面的查询结果里再查前20条记录  \n```",[[1565674756500,["GJX@GJXAIOU",[[-1,15,"2017年05月08日 17:52:02 [踏凌霄](https://me.csdn.net/qq_31617637) 阅读数 103013\n\n 版权声明：本文为博主原创文章，未经博主允许不得转载。 [https://blog.csdn.net/qq_31617637/article/details/71426904](https://blog.csdn.net/qq_31617637/article/details/71426904)"]],[15,235],[15,15]]],[1565674757931,["GJX@GJXAIOU",[[-1,17,"```"]],[17,20],[17,17]]],[1565674763603,["GJX@GJXAIOU",[[-1,74,"```"]],[74,77],[74,74]]],[1565674791792,["GJX@GJXAIOU",[[-1,356," > "],[-1,362," \n    > "],[1,370," \n"],[-1,452," \n    > "],[1,460," \n"],[-1,465," \n    > "],[1,473," \n"],[-1,492," \n    > "],[1,500," \n"],[-1,529," \n    > "],[1,537," \n"],[-1,566," \n    > "],[1,574," \n"],[-1,650," \n    > "],[1,658," \n"],[-1,695," \n    > "],[1,703," \n"],[-1,738," \n    > "],[1,746," \n"],[-1,762," \n    > "],[1,770," \n"],[-1,834," \n    > "],[1,842," \n"]],[356,866],[797,797]]],[1565674796396,["GJX@GJXAIOU",[[-1,354,"  "]],[353,355],[353,353]]],[1565674826491,["GJX@GJXAIOU",[[1,0,"\n"]],[0,0],[1,1]]],[1565674827582,["GJX@GJXAIOU",[[1,0,"---\ntags: [未看]\n---"]],[0,0],[18,18]]]],null,"GJX@GJXAIOU"]]}